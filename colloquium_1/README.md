# Коллоквиум 1: Теоретические вопросы и практические задания

## Теоретическая часть

### 1. WinAPI для лабораторной работы №2

Для реализации работы с процессами и синхронизацией в Windows используются следующие функции:

| Функция                  | Назначение                                                   |
|:-------------------------|:-------------------------------------------------------------|
| `CreateProcess()`         | Создаёт новый процесс.                                        |
| `OpenProcess()`           | Открывает дескриптор существующего процесса.                 |
| `CreateThread()`          | Создаёт поток в пределах процесса.                           |
| `WaitForSingleObject()`   | Приостанавливает выполнение потока до получения сигнала от объекта. |
| `WaitForMultipleObjects()`| Приостанавливает выполнение до сигнала от нескольких объектов. |
| `CreateSemaphore()`       | Создаёт семафор.                                              |
| `ReleaseSemaphore()`      | Увеличивает счётчик семафора.                                |
| `InitializeCriticalSection()` | Инициализирует критическую секцию.                       |
| `EnterCriticalSection()`  | Вход в критическую секцию.                                    |
| `LeaveCriticalSection()`  | Выход из критической секции.                                  |
| `DeleteCriticalSection()` | Удаляет критическую секцию.                                   |
| `CloseHandle()`           | Закрывает дескриптор объекта.                                 |

**Пример работы с критической секцией:**

```cpp
CRITICAL_SECTION cs;

InitializeCriticalSection(&cs);
EnterCriticalSection(&cs);
// работа с общим ресурсом
LeaveCriticalSection(&cs);
DeleteCriticalSection(&cs);
````

---

### 2. Что такое процесс в ОС Windows

Процесс — это экземпляр выполняемой программы. Он имеет:

* собственное виртуальное адресное пространство
* уникальный идентификатор процесса (PID)
* таблицу открытых дескрипторов объектов
* один или несколько потоков

Процессы создаются с помощью функции `CreateProcess()` и управляются через дескрипторы.

**Пример создания процесса:**

```cpp
STARTUPINFO si = { sizeof(STARTUPINFO) };
PROCESS_INFORMATION pi;
CreateProcess(NULL, "C:\\Example\\App.exe", NULL, NULL, FALSE, 0, NULL, NULL, &si, &pi);
CloseHandle(pi.hProcess);
CloseHandle(pi.hThread);
```

---

### 3. Что такое критическая секция

Критическая секция — это механизм синхронизации потоков в пределах одного процесса. Позволяет защитить общий ресурс от одновременного доступа нескольких потоков.

**Пример:**

```cpp
CRITICAL_SECTION cs;
InitializeCriticalSection(&cs);
EnterCriticalSection(&cs);
// Работа с общим ресурсом
LeaveCriticalSection(&cs);
DeleteCriticalSection(&cs);
```

Особенности:

* Работает только в рамках одного процесса.
* Быстрее мьютексов.
* Нельзя использовать между процессами.

---

### 4. Что такое семафор

Семафор — это объект синхронизации с внутренним счётчиком, ограничивающий количество одновременных доступов к ресурсу.

**Пример создания и использования семафора:**

```cpp
HANDLE hSemaphore = CreateSemaphore(NULL, 1, 3, NULL);
// Первый параметр — безопасность
// Второй — начальное значение счётчика
// Третий — максимальное значение счётчика

WaitForSingleObject(hSemaphore, INFINITE); // Вход
// Работа с общим ресурсом
ReleaseSemaphore(hSemaphore, 1, NULL); // Выход
CloseHandle(hSemaphore);
```

Можно использовать между потоками и процессами.

---

### 5. Сравнительный анализ C++98 с Boost и современных стандартов с использованием Qt

| Параметр        | C++98 с Boost              | C++11/17 с Qt                      |
| :-------------- | :------------------------- | :--------------------------------- |
| Потоки          | Boost.Thread               | std::thread / QtConcurrent         |
| Синхронизация   | Boost.Mutex, OS API        | std::mutex / QMutex                |
| Умные указатели | boost::shared\_ptr и др.   | std::shared\_ptr, std::unique\_ptr |
| Тестирование    | Boost.Test                 | Google Test / Qt Test              |
| Исключения      | try-catch, Boost.Exception | стандартные исключения, сигналы Qt |

**Пример работы с Boost.Thread (C++98):**

```cpp
#include <boost/thread.hpp>

void hello() {
    std::cout << "Hello from thread!";
}

boost::thread t(hello);
t.join();
```

**Современный C++:**

```cpp
#include <thread>

void hello() {
    std::cout << "Hello from thread!";
}

std::thread t(hello);
t.join();
```

---

## Общие вопросы

### Что такое ООП

Объектно-Ориентированное Программирование — это методология, основанная на создании объектов, которые объединяют данные и поведение.

**Основные принципы:**

* **Инкапсуляция** — скрытие внутренней реализации.
* **Наследование** — создание новых классов на основе существующих.
* **Полиморфизм** — единый интерфейс для разных типов объектов.
* **Абстракция** — выделение значимой информации и скрытие деталей.

**Пример инкапсуляции:**

```cpp
class BankAccount {
private:
    double balance;
public:
    void deposit(double sum) { balance += sum; }
    double getBalance() { return balance; }
};
```

---

### Магическое число 7 Миллера

Человек в среднем удерживает в памяти 7 ± 2 элемента. В ИТ:

1. Количество пунктов меню.
2. Параметров функции.
3. Элементов в интерфейсе.
4. Запущенных приложений.
5. Активных подключений.
6. Недавних файлов.
7. Параметров конфигурации.

---

### Энтропия ПО

Со временем структура ПО усложняется и теряет управляемость.

**Примеры мер борьбы:**

1. Код-ревью.
2. Рефакторинг.
3. Покрытие тестами.
4. Использование стандартов кодирования.
5. Статический анализ.

---

### 5 признаков сложной системы по Гради Бучу

| Признак      | Описание                   | Примеры                         |
| :----------- | :------------------------- | :------------------------------ |
| Иерархия     | Подсистемы и модули        | Иерархия классов                |
| Абстракция   | Скрытие деталей            | Интерфейсы и абстрактные классы |
| Инкапсуляция | Защита данных              | Приватные члены класса          |
| Модульность  | Независимость компонентов  | Разные модули                   |
| Сложность    | Взаимосвязь частей системы | IPC между процессами            |

---

### Закон иерархических компенсаций Седова

Улучшение одного элемента компенсирует слабые стороны другого.

**Исторические примеры:**

1. Переход от пакетных ОС к многозадачным.
2. От процедурного программирования к ООП.
3. От одноядерных CPU к многопоточным.
4. От HDD к SSD.
5. От локальных серверов к облачным.

---
